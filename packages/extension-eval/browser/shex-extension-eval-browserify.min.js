!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).jsExtension=e()}}(function(){var define,module,exports;return function(){return function e(t,r,n){function i(o,u){if(!r[o]){if(!t[o]){var s="function"==typeof require&&require;if(!u&&s)return s(o,!0);if(a)return a(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var f=r[o]={exports:{}};t[o][0].call(f.exports,function(e){return i(t[o][1][e]||e)},f,f.exports,e,t,r,n)}return r[o].exports}for(var a="function"==typeof require&&require,o=0;o<n.length;o++)i(n[o]);return i}}()({1:[function(require,module,exports){var EvalExt="http://shex.io/extensions/Eval/";const ShEx={RdfTerm:require("@shexjs/term")};function register(validator){return validator.semActHandler.results[EvalExt]=[],validator.semActHandler.register(EvalExt,{dispatch:function(code,ctx,extensionStorage){return eval(code)}}),validator.semActHandler.results[EvalExt]}function done(e){0===e.semActHandler.results[EvalExt].length&&delete e.semActHandler.results[EvalExt]}module.exports={name:"Eval",description:`Simple javascript eval.\nEach SemAct should return either:\n  bool - false if the extension failed or did not accept the ctx object.\n  [{type: "SemActViolation", msg: "..."}] - (ideally empty) list of structured errors\n\nurl: ${EvalExt}`,name:"Eval",register:register,done:done,url:EvalExt}},{"@shexjs/term":2}],2:[function(e,t,r){var n=function(){var e=/^[a-z][a-z0-9+.-]*:/i,t=/^(?:([a-z][a-z0-9+.-]*:))?(?:\/\/[^\/]*)?/i,r=/(?:^|\/)\.\.?(?:$|[\/#?])/;const n="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString",i="http://www.w3.org/2001/XMLSchema#string";function a(e){if(!r.test(e))return e;for(var t="",n=e.length,i=-1,a=-1,o=0,u="/";i<n;){switch(u){case":":if(a<0&&"/"===e[++i]&&"/"===e[++i])for(;(a=i+1)<n&&"/"!==e[a];)i=a;break;case"?":case"#":i=n;break;case"/":if("."===e[i+1])switch(u=e[++i+1]){case"/":t+=e.substring(o,i-1),o=i+1;break;case void 0:case"?":case"#":return t+e.substring(o,i)+e.substr(i+1);case".":if(void 0===(u=e[++i+1])||"/"===u||"?"===u||"#"===u){if((o=(t+=e.substring(o,i-2)).lastIndexOf("/"))>=a&&(t=t.substr(0,o)),"/"!==u)return t+"/"+e.substr(i+1);o=i+1}}}u=e[++i]}return t+e.substring(o)}function o(e){switch(e.termType){case"NamedNode":return e.value;case"BlankNode":return"_:"+e.value;case"Literal":return'"'+e.value+'"'+(e.datatypeString===n?"@"+e.language:e.datatypeString===i?"":"^^"+e.datatypeString);default:throw Error("unknown RDFJS node type: "+JSON.stringify(e))}}function u(e,t){if(s(e))return t.namedNode(e);if(f(e))return t.blankNode(e.substr(2));if(l(e)){let r=p(e)||(d(e)===i?null:t.namedNode(d(e)));return t.literal(c(e),r)}throw Error("Unknown internal term type: "+JSON.stringify(e))}function s(e){if("string"!=typeof e)return!1;if(0===e.length)return!0;var t=e[0];return'"'!==t&&"_"!==t}function l(e){return"string"==typeof e&&'"'===e[0]}function f(e){return"string"==typeof e&&"_:"===e.substr(0,2)}function c(e){var t=/^"([^]*)"/.exec(e);if(!t)throw new Error(e+" is not a literal");return t[1]}function d(e){var t=/^"[^]*"(?:\^\^([^"]+)|(@)[^@"]+)?$/.exec(e);if(!t)throw new Error(e+" is not a literal");return t[1]||(t[2]?n:i)}function p(e){var t=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/.exec(e);if(!t)throw new Error(e+" is not a literal");return t[1]?t[1].toLowerCase():""}var g=/["\\\t\n\r\b\f\u0000-\u0019\ud800-\udbff]/,h=/["\\\t\n\r\b\f\u0000-\u0019]|[\ud800-\udbff][\udc00-\udfff]/g,v={"\\":"\\\\",'"':'\\"',"\t":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};function m(e){var t=v[e];return void 0===t&&(1===e.length?(t=e.charCodeAt(0).toString(16),t="\\u0000".substr(0,6-t.length)+t):(t=(1024*(e.charCodeAt(0)-55296)+e.charCodeAt(1)+9216).toString(16),t="\\U00000000".substr(0,10-t.length)+t)),t}return{RdfLangString:n,XsdString:i,resolveRelativeIRI:function(r,n){if(e.test(n))return n;switch(n[0]){case void 0:return r;case"#":return r+n;case"?":return r.replace(/(?:\?.*)?$/,n);case"/":let e=r.match(t);return("/"===n[1]?e[1]:e[0])+a(n);default:return a(r.replace(/[^\/?]*(?:\?.*)?$/,"")+n)}},isIRI:s,isLiteral:l,isBlank:f,isDefaultGraph:function(e){return!e},inDefaultGraph:function(e){return!e.graph},getLiteralValue:c,getLiteralType:d,getLiteralLanguage:p,internalTerm:o,internalTriple:function(e){return{subject:o(e.subject),predicate:o(e.predicate),object:o(e.object)}},externalTerm:u,externalTriple:function(e,t){return t.quad(u(e.subject,t),u(e.predicate,t),u(e.object,t))},intermalTermToTurtle:function(e,t,r){if(s(e)){g.test(e)&&(e=e.replace(h,m));var n=Object.keys(r).find(t=>e.startsWith(r[t]));if(n){var i=e.substr(r[n].length);if(-1===i.indexOf("\\"))return n+":"+i.replace(/([~!$&'()*+,;=/?#@%])/g,"\\$1")}return e.startsWith(t)?"<"+e.substr(t.length)+">":"<"+e+">"}if(f(e))return e;if(l(e)){var a=c(e),o=d(e),u=p(e);return g.test(a)&&(a=a.replace(h,m)),u?'"'+a+'"@'+u:o&&"http://www.w3.org/2001/XMLSchema#string"!==o?'"'+a+'"^^'+this.intermalTermToTurtle(o,t,r):'"'+a+'"'}throw Error("Unknown internal term type: "+JSON.stringify(e))}}}();void 0!==e&&void 0!==r&&(t.exports=n)},{}]},{},[1])(1)});